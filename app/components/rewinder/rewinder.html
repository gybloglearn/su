<md-content layout="row" layout-sm="column" layout-xs="column">
  <div layout-padding flex>
    <h1 class="md-display-2" layout="row">
      <span flex>Rewinder {{vm.datumszam}}</span>
      <md-button class="md-fab md-primary md-hue-2">
        <md-icon class="material-icons">dashboard</md-icon>
      </md-button>
    </h1>
    <md-divider>
      <div layout="row">
        <md-input-container>
          <md-datepicker ng-model="vm.date" md-max-date="vm.maxdate" ng-change="vm.lodrewainder1()"></md-datepicker>
        </md-input-container>
      </div>
      <div layout="row">
        <md-table-container flex>
          <table md-table>
            <thead md-head>
              <tr md-row>
                <th colspan="1"></th>
                <th colspan="3">Nappal</th>
                <th colspan="3">Éjszaka</th>
                <th colspan="3">Napi</th>
              </tr>
              <tr md-row>
                <th md-column>Gép</th>
                <th md-column>Méter</th>
                <th md-column>AEQ</th>
                <th md-column>Dob</th>
                <th md-column>Méter</th>
                <th md-column>AEQ</th>
                <th md-column>Dob</th>
                <th md-column>Méter</th>
                <th md-column>AEQ</th>
                <th md-column>Dob</th>
              </tr>
            </thead>
            <tbody md-body>
              <tr md-row ng-repeat="item in vm.selectdata">
                <td md-cell>{{item.nev}}</td>
                <td md-cell>
                  <a style="cursor: pointer" ng-click="vm.actmch=item.nev;vm.actshift='1';vm.loaddetails();">{{item.meternappal}}</a>
                </td>
                <td md-cell>{{item.meternappal/9300|number:0}}</td>
                <td md-cell>{{item.cnappal}}</td>
                <td md-cell>
                  <a style="cursor: pointer" ng-click="vm.actmch=item.nev;vm.actshift='3';vm.loaddetails();">{{item.meterejszaka}}</a>
                </td>
                <td md-cell>{{item.meterejszaka/9300|number:0}}</td>
                <td md-cell>{{item.cejszaka|number:0}}</td>
                <td md-cell>{{item.meternapi}}</td>
                <td md-cell>{{item.meternapi/9300|number:0}}</td>
                <td md-cell>{{item.cnapi}}</td>
              </tr>
              <tr md-row>
                <td md-cell>Összesen</td>
                <td md-cell>{{vm.selectdata| sumField:'meternappal'|number:0}}</td>
                <td md-cell>{{(vm.selectdata| sumField:'meternappal')/9300|number:0}}</td>
                <td md-cell>{{vm.selectdata| sumField:'cnappal'|number:0}}</td>
                <td md-cell>{{vm.selectdata| sumField:'meterejszaka'|number:0}}</td>
                <td md-cell>{{(vm.selectdata| sumField:'meterejszaka')/9300|number:0}}</td>
                <td md-cell>{{vm.selectdata| sumField:'cejszaka'|number:0}}</td>
                <td md-cell>{{vm.selectdata| sumField:'meternapi'|number:0}}</td>
                <td md-cell>{{(vm.selectdata| sumField:'meternapi')/9300|number:0}}</td>
                <td md-cell>{{vm.selectdata| sumField:'cnapi'|number:0}}</td>
              </tr>
            </tbody>
          </table>
        </md-table-container>
      </div>
      <div layout="row">
        <md-table-container flex ng-show="vm.actmch!=''">
          <table md-table>
            <thead md-head>
              <tr md-row>
                <th colspan="7">{{vm.actmch}}</th>
              </tr>
              <tr md-row>
                <th md-column>lotid</th>
                <th md-column>Fonatoló gép</th>
                <th md-column>Hossz</th>
                <th md-column>Össz. Hossz</th>
                <th md-column>Kenési idő</th>
                <th md-column>Megjegyzés</th>
                <th md-column>Operátor név</th>
              </tr>
            </thead>
            <style>
              .gray {
                background-color: #b3b3b3;
              }
            </style>
            <tbody md-body>
              <tr ng-repeat="item in vm.detailsdata" ng-class="item.Alias==''?'gray':''">
                <td md-cell>{{item.Rwndr_Job}}</td>
                <td md-cell>{{item.Alias}}</td>
                <td md-cell>{{item.Braid_Length}}</td>
                <td md-cell>{{item.Braid_Length_Prod1}}</td>
                <td md-cell>{{item.Kezdesi_ido | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td md-cell>{{item.Megjegyzes}}</td>
                <td md-cell>{{item.OP_Name}}</td>
              </tr>
            </tbody>
          </table>
        </md-table-container>
      </div>
  </div>
  </md-divider>
  </div>
</md-content>