<md-content layout="row" layout-sm="column" layout-xs="column">
  <div layout-padding flex>
    <h1 class="md-display-2" layout="row">
      <span flex>Tervek</span>
      <md-button class="md-fab md-primary md-hue-2">
        <md-icon class="material-icons">dashboard</md-icon>
      </md-button>
    </h1>
    <md-divider>
      <div layout="row">
        <md-table-container flex>
          <table md-table>
            <thead md-head>
              <tr md-row>
                <th md-column>Kezdő dátum</th>
                <th md-column>Vége dátum</th>
                <th md-column>Méter</th>
                <th md-column>AEQ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input ng-model="vm.startdate" type="text" class="form-control" value="{{vm.startdate}}"></td>
                <td><input ng-model="vm.enddate" type="text" class="form-control" value="{{vm.enddate}}"></td>
                <td><input ng-model="vm.amount" ng-change="vm.createaeq(vm.amount)" type="text" class="form-control"
                    value="{{vm.amount}}"></td>
                <td><input ng-model="vm.aeq" ng-change="vm.createamount(vm.aeq)" type="text" class="form-control" value="{{vm.aeq}}"></td>
              </tr>
            </tbody>
          </table>
        </md-table-container>
      </div>
      <div layout="row">
        <md-button class="md-primary md-raised" ng-click="vm.save()" ng-disabled="vm.aeq<=0 || vm.enddate<=vm.startdate">Feltölt</md-button>
      </div>
      <hr>
      <md-table-container flex>
        <table md-table>
          <thead md-head>
            <tr md-row>
              <th md-column>Kezdő dátum</th>
              <th md-column>Vége Dátum</th>
              <th md-column>Méter</th>
              <th md-column>AEQ</th>
              <th md-column>Szerkesztés</th>
              <th md-column>Törlés</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in vm.data | orderBy : '-enddate'">
              <td>{{item.startdate}}</td>
              <td>{{item.enddate}}</td>
              <td>{{item.amount}}</td>
              <td>{{item.aeq}}</td>
              <td>
                <md-button class="md-fab md-primary md-hue-2" ng-click="vm.edit = item">
                  <md-icon class="material-icons">edit</md-icon>
                </md-button>
              </td>
              <td>
                <md-button class="md-fab md-warn md-hue-2" ng-click="vm.remove(item.id,$index)">
                  <md-icon class="material-icons">delete_forever</md-icon>
                </md-button>
              </td>
            </tr>
          </tbody>
        </table>
      </md-table-container>
    </md-divider>
    <md-divider ng-show="vm.edit" style="margin-top:20px">
      <div layout="row">
        <span flex>Terv módosítása</span>
      </div>
      <div layout="row" style="margin-top:20px">
        <div flex=20>
          <span class="input-group-addon">Kezdő dátum:</span>
          <input type="text" class="form-control" ng-model="vm.edit.startdate">
        </div>
        <div flex=20>
            <span class="input-group-addon">Vége dátum:</span>
            <input type="text" class="form-control" ng-model="vm.edit.enddate">
        </div>
      </div>
      <div layout="row">
        <md-button class="md-raised md-primary" ng-click="vm.edit = '';">Mégse</md-button>
        <md-button class="md-raised md-warn" ng-click="vm.update(vm.edit)">Mentés</md-button>
      </div>
    </md-divider>
  </div>
</md-content>